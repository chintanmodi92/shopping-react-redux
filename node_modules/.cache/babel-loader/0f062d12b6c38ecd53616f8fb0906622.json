{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Chintan\\\\Documents\\\\GitHub\\\\shopping-react-redux\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\Chintan\\\\Documents\\\\GitHub\\\\shopping-react-redux\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import Item1 from\"../../img/item1.jpg\";import Item2 from\"../../img/item2.jpg\";import Item3 from\"../../img/item3.jpg\";import Item4 from\"../../img/item4.jpg\";import Item5 from\"../../img/item5.jpg\";import Item6 from\"../../img/item6.jpg\";import{ADD_TO_CART,ADD_QUANTITY,SUBTRACT_QUANTITY,REMOVE_ITEM,FILTER_LOW_TO_HIGH,FILTER_HIGH_TO_LOW,FILTER_RECOMMENDED,EMPTY_CART}from\"../actions/action-types/cart-actions\";import{loadState,saveState}from'../localStorage';var initState={items:[{id:1,title:\"Yeezy 700 Wave\",desc:\"Developed by Kanye West, the Adidas Yeezy Boost 700 is a running sneaker-inspired model with a chunky sole. They also sport a combination of the upper, Boost cushioning, and a rubber outsole.\",price:350,img:Item1},{id:2,title:\"Nike Element 87\",desc:\"Adding vintage elements to a new silhouette, the Nike React Element 87 borrows design lines from heritage runners like the Nike Internationalist. It's all meant to add '90s graphics in bold colors.\",price:135,img:Item6},{id:3,title:\"Nike Airmax 270\",desc:\"The bold silhouette of Nike Air lifts the Nike Air Max 270 React to new heights, while the Nike React foam midsole delivers exceptional cushioning. Imagine all-day comfort with unstoppable style.\",price:165,img:Item2},{id:4,title:\"Puma RS x TOYS\",desc:\"X marks extreme. Exaggerated. The new RS-X tells stories of reinvention to the extreme. Design inspired by collectible vinyl toys, it celebrates the reinvention of toys in and beyond sneaker culture.\",price:120,img:Item3},{id:5,title:\"Adidas NMD CS2\",desc:\"Step into the NMD CS2 Primeknit from adidas Originals for the retro style. The sleek slip-on design and embroidered details ensure youâ€™ll stand out, and the sock-like upper gives you a snug, secure fit.\",price:95,img:Item4},{id:6,title:\"Air Jordan 1\",desc:\"Continuing the legacy that goes back to 1985, the Men's Air Jordan 1 Mid Retro Basketball Shoes offers a look that ballers and sneakerheads everywhere just can't get enough of style and comfort wear.\",price:160,img:Item5}],addedItems:[],totalQuantity:0,total:0,orderSummary:[]};var cartReducer=function cartReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_TO_CART:var addedItem=state.items.find(function(item){return item.id===action.id;});//console.log(addedItem);\nvar existed_item=state.addedItems.find(function(item){return action.id===item.id;});var initQuantity=state.totalQuantity;//console.log(existed_item);\nif(existed_item){addedItem.quantity+=1;initQuantity+=1;saveState(_objectSpread({},state,{total:state.total+addedItem.price,totalQuantity:initQuantity}));return _objectSpread({},state,{total:state.total+addedItem.price,totalQuantity:initQuantity});}else{addedItem.quantity=1;initQuantity+=1;saveState(_objectSpread({},state,{addedItems:[].concat(_toConsumableArray(state.addedItems),[addedItem]),total:state.total+addedItem.price,totalQuantity:initQuantity}));return _objectSpread({},state,{addedItems:[].concat(_toConsumableArray(state.addedItems),[addedItem]),total:state.total+addedItem.price,totalQuantity:initQuantity});}case ADD_QUANTITY:var addItem=state.items.find(function(item){return item.id===action.id;});var addQuantity=state.totalQuantity;addItem.quantity+=1;addQuantity+=1;saveState(_objectSpread({},state,{total:state.total+addItem.price,totalQuantity:addQuantity}));return _objectSpread({},state,{total:state.total+addItem.price,totalQuantity:addQuantity});case SUBTRACT_QUANTITY:var subItem=state.items.find(function(item){return item.id===action.id;});var subQuantity=state.totalQuantity;subItem.quantity-=1;subQuantity-=1;if(subItem.quantity<=0){var _selectedItem=state.items.find(function(item){return item.id===action.id;});var _newItems=state.addedItems.filter(function(item){return!(item.id===action.id);});saveState(_objectSpread({},state,{addedItems:_newItems,total:state.total-_selectedItem.price,totalQuantity:subQuantity}));return _objectSpread({},state,{addedItems:_newItems,total:state.total-_selectedItem.price,totalQuantity:subQuantity});}else{saveState(_objectSpread({},state,{total:state.total-subItem.price,totalQuantity:subQuantity}));return _objectSpread({},state,{total:state.total-subItem.price,totalQuantity:subQuantity});}case REMOVE_ITEM:var selectedItem=state.items.find(function(item){return item.id===action.id;});var newItems=state.addedItems.filter(function(item){return!(item.id===action.id);});var removeQuantity=state.totalQuantity;removeQuantity-=selectedItem.quantity;saveState(_objectSpread({},state,{addedItems:newItems,total:state.total-selectedItem.price*selectedItem.quantity,totalQuantity:removeQuantity}));return _objectSpread({},state,{addedItems:newItems,total:state.total-selectedItem.price*selectedItem.quantity,totalQuantity:removeQuantity});case FILTER_LOW_TO_HIGH:var filterLowItems=state.items.sort(function(a,b){if(a.price<b.price){return-1;}if(a.price>b.price){return 1;}return 0;});//console.log(filterLowItems)\nreturn _objectSpread({},state,{items:filterLowItems});case FILTER_HIGH_TO_LOW:var filterHighItems=state.items.sort(function(a,b){if(a.price>b.price){return-1;}if(a.price<b.price){return 1;}return 0;});//console.log(filterLowItems)\nreturn _objectSpread({},state,{items:filterHighItems});case FILTER_RECOMMENDED:var filterRecItems=state.items.sort(function(a,b){if(a.id<b.id){return-1;}if(a.id>b.id){return 1;}return 0;});//console.log(filterLowItems)\nreturn _objectSpread({},state,{items:filterRecItems});case EMPTY_CART:console.log('cart emptied');var orderSummary=state.addedItems;saveState(_objectSpread({},state,{addedItems:[],total:0,totalQuantity:0,orderSummary:orderSummary}));return _objectSpread({},state,{addedItems:[],total:0,totalQuantity:0,orderSummary:orderSummary});default:if(loadState()){return loadState();}else{return state;}}};export default cartReducer;","map":{"version":3,"sources":["C:/Users/Chintan/Documents/GitHub/shopping-react-redux/src/components/reducers/cartReducer.js"],"names":["Item1","Item2","Item3","Item4","Item5","Item6","ADD_TO_CART","ADD_QUANTITY","SUBTRACT_QUANTITY","REMOVE_ITEM","FILTER_LOW_TO_HIGH","FILTER_HIGH_TO_LOW","FILTER_RECOMMENDED","EMPTY_CART","loadState","saveState","initState","items","id","title","desc","price","img","addedItems","totalQuantity","total","orderSummary","cartReducer","state","action","type","addedItem","find","item","existed_item","initQuantity","quantity","addItem","addQuantity","subItem","subQuantity","selectedItem","newItems","filter","removeQuantity","filterLowItems","sort","a","b","filterHighItems","filterRecItems","console","log"],"mappings":"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","sourcesContent":["import Item1 from \"../../img/item1.jpg\";\r\nimport Item2 from \"../../img/item2.jpg\";\r\nimport Item3 from \"../../img/item3.jpg\";\r\nimport Item4 from \"../../img/item4.jpg\";\r\nimport Item5 from \"../../img/item5.jpg\";\r\nimport Item6 from \"../../img/item6.jpg\";\r\nimport {\r\n  ADD_TO_CART,\r\n  ADD_QUANTITY,\r\n  SUBTRACT_QUANTITY,\r\n  REMOVE_ITEM,\r\n  FILTER_LOW_TO_HIGH,\r\n  FILTER_HIGH_TO_LOW,\r\n  FILTER_RECOMMENDED,\r\n  EMPTY_CART\r\n} from \"../actions/action-types/cart-actions\";\r\nimport { loadState, saveState } from '../localStorage'\r\n\r\nconst initState = {\r\n  items: [\r\n    {\r\n      id: 1,\r\n      title: \"Yeezy 700 Wave\",\r\n      desc:\r\n        \"Developed by Kanye West, the Adidas Yeezy Boost 700 is a running sneaker-inspired model with a chunky sole. They also sport a combination of the upper, Boost cushioning, and a rubber outsole.\",\r\n      price: 350,\r\n      img: Item1\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Nike Element 87\",\r\n      desc:\r\n        \"Adding vintage elements to a new silhouette, the Nike React Element 87 borrows design lines from heritage runners like the Nike Internationalist. It's all meant to add '90s graphics in bold colors.\",\r\n      price: 135,\r\n      img: Item6\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"Nike Airmax 270\",\r\n      desc:\r\n        \"The bold silhouette of Nike Air lifts the Nike Air Max 270 React to new heights, while the Nike React foam midsole delivers exceptional cushioning. Imagine all-day comfort with unstoppable style.\",\r\n      price: 165,\r\n      img: Item2\r\n    },\r\n    {\r\n      id: 4,\r\n      title: \"Puma RS x TOYS\",\r\n      desc:\r\n        \"X marks extreme. Exaggerated. The new RS-X tells stories of reinvention to the extreme. Design inspired by collectible vinyl toys, it celebrates the reinvention of toys in and beyond sneaker culture.\",\r\n      price: 120,\r\n      img: Item3\r\n    },\r\n    {\r\n      id: 5,\r\n      title: \"Adidas NMD CS2\",\r\n      desc:\r\n        \"Step into the NMD CS2 Primeknit from adidas Originals for the retro style. The sleek slip-on design and embroidered details ensure youâ€™ll stand out, and the sock-like upper gives you a snug, secure fit.\",\r\n      price: 95,\r\n      img: Item4\r\n    },\r\n    {\r\n      id: 6,\r\n      title: \"Air Jordan 1\",\r\n      desc:\r\n        \"Continuing the legacy that goes back to 1985, the Men's Air Jordan 1 Mid Retro Basketball Shoes offers a look that ballers and sneakerheads everywhere just can't get enough of style and comfort wear.\",\r\n      price: 160,\r\n      img: Item5\r\n    },\r\n  ],\r\n  addedItems: [],\r\n  totalQuantity: 0,\r\n  total: 0,\r\n  orderSummary: []\r\n};\r\n\r\nconst cartReducer = (state = initState, action) => {\r\n\r\n  switch (action.type) {\r\n    case ADD_TO_CART:\r\n      let addedItem = state.items.find(item => item.id === action.id);\r\n     \r\n      //console.log(addedItem);\r\n      let existed_item = state.addedItems.find(item => action.id === item.id);\r\n      let initQuantity = state.totalQuantity;\r\n\r\n      //console.log(existed_item);\r\n      if (existed_item) {\r\n        addedItem.quantity += 1;\r\n        initQuantity += 1;\r\n        saveState({\r\n          ...state,\r\n          total: state.total + addedItem.price,\r\n          totalQuantity: initQuantity\r\n        })\r\n        return {\r\n          ...state,\r\n          total: state.total + addedItem.price,\r\n          totalQuantity: initQuantity\r\n        };\r\n      } else {\r\n        addedItem.quantity = 1;\r\n        initQuantity += 1;\r\n        saveState({\r\n          ...state,\r\n          addedItems: [...state.addedItems, addedItem],\r\n          total: state.total + addedItem.price,\r\n          totalQuantity: initQuantity\r\n        })\r\n        return {\r\n          ...state,\r\n          addedItems: [...state.addedItems, addedItem],\r\n          total: state.total + addedItem.price,\r\n          totalQuantity: initQuantity\r\n        };\r\n      }\r\n\r\n    case ADD_QUANTITY:\r\n      let addItem = state.items.find(item => item.id === action.id);\r\n      let addQuantity = state.totalQuantity\r\n      addItem.quantity += 1\r\n      addQuantity += 1\r\n      saveState({\r\n        ...state,\r\n        total: state.total + addItem.price,\r\n        totalQuantity: addQuantity\r\n      })\r\n\r\n      return{\r\n        ...state,\r\n        total: state.total + addItem.price,\r\n        totalQuantity: addQuantity\r\n      }\r\n\r\n    case SUBTRACT_QUANTITY:\r\n      let subItem = state.items.find(item => item.id === action.id);\r\n      let subQuantity = state.totalQuantity\r\n      subItem.quantity -= 1\r\n      subQuantity -= 1\r\n      if(subItem.quantity<=0){\r\n        let selectedItem = state.items.find(item => item.id === action.id);\r\n        let newItems  = state.addedItems.filter( item => !(item.id === action.id))\r\n  \r\n        saveState({\r\n          ...state,\r\n          addedItems: newItems,\r\n          total: state.total - selectedItem.price,\r\n          totalQuantity: subQuantity\r\n        })\r\n        \r\n        return{\r\n          ...state,\r\n          addedItems: newItems,\r\n          total: state.total - selectedItem.price,\r\n          totalQuantity: subQuantity\r\n        }\r\n  \r\n      } else{\r\n\r\n        saveState({\r\n          ...state,\r\n          total: state.total - subItem.price,\r\n          totalQuantity: subQuantity\r\n        })\r\n        return{\r\n          ...state,\r\n          total: state.total - subItem.price,\r\n          totalQuantity: subQuantity\r\n        }  \r\n      }\r\n\r\n    case REMOVE_ITEM:\r\n\r\n      let selectedItem = state.items.find(item => item.id === action.id);\r\n      let newItems  = state.addedItems.filter( item => !(item.id === action.id))\r\n      let removeQuantity = state.totalQuantity\r\n      \r\n      removeQuantity -= selectedItem.quantity\r\n\r\n      saveState({\r\n        ...state,\r\n        addedItems: newItems,\r\n        total: state.total - (selectedItem.price*selectedItem.quantity),\r\n        totalQuantity: removeQuantity\r\n      })\r\n\r\n      return{\r\n        ...state,\r\n        addedItems: newItems,\r\n        total: state.total - (selectedItem.price*selectedItem.quantity),\r\n        totalQuantity: removeQuantity\r\n      }\r\n\r\n\r\n    case FILTER_LOW_TO_HIGH:\r\n      let filterLowItems = state.items.sort((a,b) => {\r\n        if(a.price<b.price){\r\n          return -1\r\n        }\r\n        if(a.price>b.price){\r\n          return 1\r\n        }\r\n        return 0\r\n      })\r\n      //console.log(filterLowItems)\r\n\r\n      return{\r\n        ...state,\r\n        items: filterLowItems\r\n      }\r\n\r\n      case FILTER_HIGH_TO_LOW:\r\n        let filterHighItems = state.items.sort((a,b) => {\r\n          if(a.price>b.price){\r\n            return -1\r\n          }\r\n          if(a.price<b.price){\r\n            return 1\r\n          }\r\n          return 0\r\n        })\r\n        //console.log(filterLowItems)\r\n  \r\n        return{\r\n          ...state,\r\n          items: filterHighItems\r\n        }\r\n\r\n        \r\n        case FILTER_RECOMMENDED:\r\n          let filterRecItems = state.items.sort((a,b) => {\r\n            if(a.id<b.id){\r\n              return -1\r\n            }\r\n            if(a.id>b.id){\r\n              return 1\r\n            }\r\n            return 0\r\n          })\r\n          //console.log(filterLowItems)\r\n    \r\n          return{\r\n            ...state,\r\n            items: filterRecItems\r\n          }\r\n    \r\n\r\n    case EMPTY_CART:\r\n          console.log('cart emptied')\r\n      const orderSummary = state.addedItems\r\n\r\n      saveState({\r\n        ...state,\r\n        addedItems: [],\r\n        total: 0,\r\n        totalQuantity: 0,\r\n        orderSummary\r\n      })\r\n      return {\r\n        ...state,\r\n        addedItems: [],\r\n        total: 0,\r\n        totalQuantity: 0,\r\n        orderSummary\r\n      };\r\n\r\n\r\n    \r\n\r\n    default:\r\n      if(loadState()){\r\n        return loadState();\r\n      } else{\r\n        return state\r\n      }\r\n      \r\n      \r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n"]},"metadata":{},"sourceType":"module"}