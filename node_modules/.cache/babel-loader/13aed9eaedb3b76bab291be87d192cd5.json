{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Chintan\\\\Desktop\\\\Desktop files\\\\JS projects\\\\complete projects\\\\shopping-react-redux\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport Item1 from \"../../img/item1.jpg\";\nimport Item2 from \"../../img/item2.jpg\";\nimport Item3 from \"../../img/item3.jpg\";\nimport Item4 from \"../../img/item4.jpg\";\nimport Item5 from \"../../img/item5.jpg\";\nimport Item6 from \"../../img/item6.jpg\";\nimport { ADD_TO_CART, ADD_QUANTITY, SUBTRACT_QUANTITY, REMOVE_ITEM } from \"../actions/action-types/cart-actions\";\nimport { loadState, saveState } from '../localStorage';\nconst initState = {\n  items: [{\n    id: 1,\n    title: \"Yeezy 700 Wave\",\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eius quo nemo aliquam eligendi molestiae\",\n    price: 350,\n    img: Item1\n  }, {\n    id: 2,\n    title: \"Nike Airmax 270\",\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eius quo nemo aliquam eligendi molestiae\",\n    price: 165,\n    img: Item2\n  }, {\n    id: 3,\n    title: \"Puma RS x TOYS\",\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eius quo nemo aliquam eligendi molestiae\",\n    price: 120,\n    img: Item3\n  }, {\n    id: 4,\n    title: \"Adidas NMD CS2\",\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eius quo nemo aliquam eligendi molestiae\",\n    price: 95,\n    img: Item4\n  }, {\n    id: 5,\n    title: \"Air Jordan 1\",\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eius quo nemo aliquam eligendi molestiae\",\n    price: 160,\n    img: Item5\n  }, {\n    id: 6,\n    title: \"Nike Element 87\",\n    desc: \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eius quo nemo aliquam eligendi molestiae\",\n    price: 135,\n    img: Item6\n  }],\n  addedItems: [],\n  //totalQuantity: 0,\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      let addedItem = state.items.find(item => item.id === action.id); //console.log(addedItem);\n\n      let existed_item = state.addedItems.find(item => action.id === item.id); //let totalQuantity = state.totalQuantity;\n      //console.log(existed_item);\n\n      if (existed_item) {\n        addedItem.quantity += 1; // totalQuantity += 1;\n\n        saveState(_objectSpread({}, state, {\n          total: state.total + addedItem.price //totalQuantity\n\n        }));\n        return _objectSpread({}, state, {\n          total: state.total + addedItem.price // totalQuantity\n\n        });\n      } else {\n        addedItem.quantity = 1; //  totalQuantity = 1;\n\n        saveState(_objectSpread({}, state, {\n          addedItems: [...state.addedItems, addedItem],\n          total: state.total + addedItem.price // totalQuantity\n\n        }));\n        return _objectSpread({}, state, {\n          addedItems: [...state.addedItems, addedItem],\n          total: state.total + addedItem.price // totalQuantity\n\n        });\n      }\n\n    case ADD_QUANTITY:\n      let addItem = state.items.find(item => item.id === action.id); // totalQuantity = state.totalQuantity\n\n      addItem.quantity += 1; // totalQuantity += 1\n\n      saveState(_objectSpread({}, state, {\n        total: state.total + addItem.price // totalQuantity\n\n      }));\n      return _objectSpread({}, state, {\n        total: state.total + addItem.price // totalQuantity\n\n      });\n\n    case SUBTRACT_QUANTITY:\n      let subItem = state.items.find(item => item.id === action.id); //  totalQuantity = state.totalQuantity\n\n      subItem.quantity -= 1; // totalQuantity -= 1\n\n      if (subItem.quantity <= 0) {\n        let selectedItem = state.items.find(item => item.id === action.id);\n        let newItems = state.addedItems.filter(item => !(item.id === action.id));\n        saveState(_objectSpread({}, state, {\n          addedItems: newItems,\n          total: state.total - selectedItem.price // totalQuantity\n\n        }));\n        return _objectSpread({}, state, {\n          addedItems: newItems,\n          total: state.total - selectedItem.price //  totalQuantity\n\n        });\n      } else {\n        saveState(_objectSpread({}, state, {\n          total: state.total - subItem.price //  totalQuantity\n\n        }));\n        return _objectSpread({}, state, {\n          total: state.total - subItem.price //  totalQuantity\n\n        });\n      }\n\n    case REMOVE_ITEM:\n      let selectedItem = state.items.find(item => item.id === action.id);\n      let newItems = state.addedItems.filter(item => !(item.id === action.id)); // totalQuantity = state.totalQuantity - selectedItem.quantity\n\n      return _objectSpread({}, state, {\n        addedItems: newItems,\n        total: state.total - selectedItem.price * selectedItem.quantity // totalQuantity\n\n      });\n\n    default:\n      return loadState();\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["C:/Users/Chintan/Desktop/Desktop files/JS projects/complete projects/shopping-react-redux/src/components/reducers/cartReducer.js"],"names":["Item1","Item2","Item3","Item4","Item5","Item6","ADD_TO_CART","ADD_QUANTITY","SUBTRACT_QUANTITY","REMOVE_ITEM","loadState","saveState","initState","items","id","title","desc","price","img","addedItems","total","cartReducer","state","action","type","addedItem","find","item","existed_item","quantity","addItem","subItem","selectedItem","newItems","filter"],"mappings":"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","sourcesContent":["import Item1 from \"../../img/item1.jpg\";\r\nimport Item2 from \"../../img/item2.jpg\";\r\nimport Item3 from \"../../img/item3.jpg\";\r\nimport Item4 from \"../../img/item4.jpg\";\r\nimport Item5 from \"../../img/item5.jpg\";\r\nimport Item6 from \"../../img/item6.jpg\";\r\nimport {\r\n  ADD_TO_CART,\r\n  ADD_QUANTITY,\r\n  SUBTRACT_QUANTITY,\r\n  REMOVE_ITEM\r\n} from \"../actions/action-types/cart-actions\";\r\nimport { loadState, saveState } from '../localStorage'\r\n\r\nconst initState = {\r\n  items: [\r\n    {\r\n      id: 1,\r\n      title: \"Yeezy 700 Wave\",\r\n      desc:\r\n        \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eius quo nemo aliquam eligendi molestiae\",\r\n      price: 350,\r\n      img: Item1\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Nike Airmax 270\",\r\n      desc:\r\n        \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eius quo nemo aliquam eligendi molestiae\",\r\n      price: 165,\r\n      img: Item2\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"Puma RS x TOYS\",\r\n      desc:\r\n        \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eius quo nemo aliquam eligendi molestiae\",\r\n      price: 120,\r\n      img: Item3\r\n    },\r\n    {\r\n      id: 4,\r\n      title: \"Adidas NMD CS2\",\r\n      desc:\r\n        \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eius quo nemo aliquam eligendi molestiae\",\r\n      price: 95,\r\n      img: Item4\r\n    },\r\n    {\r\n      id: 5,\r\n      title: \"Air Jordan 1\",\r\n      desc:\r\n        \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eius quo nemo aliquam eligendi molestiae\",\r\n      price: 160,\r\n      img: Item5\r\n    },\r\n    {\r\n      id: 6,\r\n      title: \"Nike Element 87\",\r\n      desc:\r\n        \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Architecto eius quo nemo aliquam eligendi molestiae\",\r\n      price: 135,\r\n      img: Item6\r\n    }\r\n  ],\r\n  addedItems: [],\r\n  //totalQuantity: 0,\r\n  total: 0\r\n};\r\n\r\nconst cartReducer = (state = initState, action) => {\r\n\r\n  switch (action.type) {\r\n    case ADD_TO_CART:\r\n      let addedItem = state.items.find(item => item.id === action.id);\r\n     \r\n      //console.log(addedItem);\r\n      let existed_item = state.addedItems.find(item => action.id === item.id);\r\n      //let totalQuantity = state.totalQuantity;\r\n\r\n      //console.log(existed_item);\r\n      if (existed_item) {\r\n        addedItem.quantity += 1;\r\n       // totalQuantity += 1;\r\n        saveState({\r\n          ...state,\r\n          total: state.total + addedItem.price,\r\n          //totalQuantity\r\n        })\r\n        return {\r\n          ...state,\r\n          total: state.total + addedItem.price,\r\n         // totalQuantity\r\n        };\r\n      } else {\r\n        addedItem.quantity = 1;\r\n      //  totalQuantity = 1;\r\n        saveState({\r\n          ...state,\r\n          addedItems: [...state.addedItems, addedItem],\r\n          total: state.total + addedItem.price,\r\n         // totalQuantity\r\n        })\r\n        return {\r\n          ...state,\r\n          addedItems: [...state.addedItems, addedItem],\r\n          total: state.total + addedItem.price,\r\n         // totalQuantity\r\n        };\r\n      }\r\n\r\n    case ADD_QUANTITY:\r\n      let addItem = state.items.find(item => item.id === action.id);\r\n     // totalQuantity = state.totalQuantity\r\n      addItem.quantity += 1\r\n     // totalQuantity += 1\r\n      saveState({\r\n        ...state,\r\n        total: state.total + addItem.price,\r\n       // totalQuantity\r\n      })\r\n\r\n      return{\r\n        ...state,\r\n        total: state.total + addItem.price,\r\n       // totalQuantity\r\n      }\r\n\r\n    case SUBTRACT_QUANTITY:\r\n      let subItem = state.items.find(item => item.id === action.id);\r\n    //  totalQuantity = state.totalQuantity\r\n      subItem.quantity -= 1\r\n     // totalQuantity -= 1\r\n      if(subItem.quantity<=0){\r\n        let selectedItem = state.items.find(item => item.id === action.id);\r\n        let newItems  = state.addedItems.filter( item => !(item.id === action.id))\r\n  \r\n        saveState({\r\n          ...state,\r\n          addedItems: newItems,\r\n          total: state.total - selectedItem.price,\r\n         // totalQuantity\r\n        })\r\n        \r\n        return{\r\n          ...state,\r\n          addedItems: newItems,\r\n          total: state.total - selectedItem.price,\r\n        //  totalQuantity\r\n        }\r\n  \r\n      } else{\r\n\r\n        saveState({\r\n          ...state,\r\n          total: state.total - subItem.price,\r\n        //  totalQuantity\r\n        })\r\n        return{\r\n          ...state,\r\n          total: state.total - subItem.price,\r\n        //  totalQuantity\r\n        }  \r\n      }\r\n\r\n\r\n\r\n\r\n    case REMOVE_ITEM:\r\n\r\n      let selectedItem = state.items.find(item => item.id === action.id);\r\n      let newItems  = state.addedItems.filter( item => !(item.id === action.id))\r\n     // totalQuantity = state.totalQuantity - selectedItem.quantity\r\n\r\n      return{\r\n        ...state,\r\n        addedItems: newItems,\r\n        total: state.total - (selectedItem.price*selectedItem.quantity),\r\n       // totalQuantity\r\n      }\r\n\r\n    \r\n\r\n    default:\r\n      return loadState();\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n"]},"metadata":{},"sourceType":"module"}