{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\Chintan\\\\Desktop\\\\Desktop files\\\\JS projects\\\\complete projects\\\\shopping-react-redux\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport Item1 from \"../../img/item1.jpg\";\nimport Item2 from \"../../img/item2.jpg\";\nimport Item3 from \"../../img/item3.jpg\";\nimport Item4 from \"../../img/item4.jpg\";\nimport Item5 from \"../../img/item5.jpg\";\nimport Item6 from \"../../img/item6.jpg\";\nimport { ADD_TO_CART, ADD_QUANTITY, SUBTRACT_QUANTITY, REMOVE_ITEM, FILTER_LOW_TO_HIGH, FILTER_HIGH_TO_LOW, FILTER_RECOMMENDED, EMPTY_CART } from \"../actions/action-types/cart-actions\";\nimport { loadState, saveState } from '../localStorage';\nconst initState = {\n  items: [{\n    id: 1,\n    title: \"Yeezy 700 Wave\",\n    desc: \"Developed by Kanye West, the Adidas Yeezy Boost 700 is a running sneaker-inspired model with a chunky sole. They also sport a combination of the upper, Boost cushioning, and a rubber outsole.\",\n    price: 350,\n    img: Item1\n  }, {\n    id: 2,\n    title: \"Nike Element 87\",\n    desc: \"Adding vintage elements to a new silhouette, the Nike React Element 87 borrows design lines from heritage runners like the Nike Internationalist. It's all meant to add '90s graphics in bold colors.\",\n    price: 135,\n    img: Item6\n  }, {\n    id: 3,\n    title: \"Nike Airmax 270\",\n    desc: \"The bold silhouette of Nike Air lifts the Nike Air Max 270 React to new heights, while the Nike React foam midsole delivers exceptional cushioning. Imagine all-day comfort with unstoppable style.\",\n    price: 165,\n    img: Item2\n  }, {\n    id: 4,\n    title: \"Puma RS x TOYS\",\n    desc: \"X marks extreme. Exaggerated. The new RS-X tells stories of reinvention to the extreme. Design inspired by collectible vinyl toys, it celebrates the reinvention of toys in and beyond sneaker culture.\",\n    price: 120,\n    img: Item3\n  }, {\n    id: 5,\n    title: \"Adidas NMD CS2\",\n    desc: \"Step into the NMD CS2 Primeknit from adidas Originals for the retro style. The sleek slip-on design and embroidered details ensure youâ€™ll stand out, and the sock-like upper gives you a snug, secure fit.\",\n    price: 95,\n    img: Item4\n  }, {\n    id: 6,\n    title: \"Air Jordan 1\",\n    desc: \"Continuing the legacy that goes back to 1985, the Men's Air Jordan 1 Mid Retro Basketball Shoes offers a look that ballers and sneakerheads everywhere just can't get enough of style and comfort wear.\",\n    price: 160,\n    img: Item5\n  }],\n  addedItems: [],\n  totalQuantity: 0,\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      let addedItem = state.items.find(item => item.id === action.id); //console.log(addedItem);\n\n      let existed_item = state.addedItems.find(item => action.id === item.id);\n      let initQuantity = state.totalQuantity; //console.log(existed_item);\n\n      if (existed_item) {\n        addedItem.quantity += 1;\n        initQuantity += 1;\n        saveState(_objectSpread({}, state, {\n          total: state.total + addedItem.price,\n          totalQuantity: initQuantity\n        }));\n        return _objectSpread({}, state, {\n          total: state.total + addedItem.price,\n          totalQuantity: initQuantity\n        });\n      } else {\n        addedItem.quantity = 1;\n        initQuantity += 1;\n        saveState(_objectSpread({}, state, {\n          addedItems: [...state.addedItems, addedItem],\n          total: state.total + addedItem.price,\n          totalQuantity: initQuantity\n        }));\n        return _objectSpread({}, state, {\n          addedItems: [...state.addedItems, addedItem],\n          total: state.total + addedItem.price,\n          totalQuantity: initQuantity\n        });\n      }\n\n    case ADD_QUANTITY:\n      let addItem = state.items.find(item => item.id === action.id);\n      let addQuantity = state.totalQuantity;\n      addItem.quantity += 1;\n      addQuantity += 1;\n      saveState(_objectSpread({}, state, {\n        total: state.total + addItem.price,\n        totalQuantity: addQuantity\n      }));\n      return _objectSpread({}, state, {\n        total: state.total + addItem.price,\n        totalQuantity: addQuantity\n      });\n\n    case SUBTRACT_QUANTITY:\n      let subItem = state.items.find(item => item.id === action.id);\n      let subQuantity = state.totalQuantity;\n      subItem.quantity -= 1;\n      subQuantity -= 1;\n\n      if (subItem.quantity <= 0) {\n        let selectedItem = state.items.find(item => item.id === action.id);\n        let newItems = state.addedItems.filter(item => !(item.id === action.id));\n        saveState(_objectSpread({}, state, {\n          addedItems: newItems,\n          total: state.total - selectedItem.price,\n          totalQuantity: subQuantity\n        }));\n        return _objectSpread({}, state, {\n          addedItems: newItems,\n          total: state.total - selectedItem.price,\n          totalQuantity: subQuantity\n        });\n      } else {\n        saveState(_objectSpread({}, state, {\n          total: state.total - subItem.price,\n          totalQuantity: subQuantity\n        }));\n        return _objectSpread({}, state, {\n          total: state.total - subItem.price,\n          totalQuantity: subQuantity\n        });\n      }\n\n    case REMOVE_ITEM:\n      let selectedItem = state.items.find(item => item.id === action.id);\n      let newItems = state.addedItems.filter(item => !(item.id === action.id));\n      let removeQuantity = state.totalQuantity;\n      removeQuantity -= selectedItem.quantity;\n      saveState(_objectSpread({}, state, {\n        addedItems: newItems,\n        total: state.total - selectedItem.price * selectedItem.quantity,\n        totalQuantity: removeQuantity\n      }));\n      return _objectSpread({}, state, {\n        addedItems: newItems,\n        total: state.total - selectedItem.price * selectedItem.quantity,\n        totalQuantity: removeQuantity\n      });\n\n    case FILTER_LOW_TO_HIGH:\n      let filterLowItems = state.items.sort((a, b) => {\n        if (a.price < b.price) {\n          return -1;\n        }\n\n        if (a.price > b.price) {\n          return 1;\n        }\n\n        return 0;\n      }); //console.log(filterLowItems)\n\n      return _objectSpread({}, state, {\n        items: filterLowItems\n      });\n\n    case FILTER_HIGH_TO_LOW:\n      let filterHighItems = state.items.sort((a, b) => {\n        if (a.price > b.price) {\n          return -1;\n        }\n\n        if (a.price < b.price) {\n          return 1;\n        }\n\n        return 0;\n      }); //console.log(filterLowItems)\n\n      return _objectSpread({}, state, {\n        items: filterHighItems\n      });\n\n    case FILTER_RECOMMENDED:\n      let filterRecItems = state.items.sort((a, b) => {\n        if (a.id < b.id) {\n          return -1;\n        }\n\n        if (a.id > b.id) {\n          return 1;\n        }\n\n        return 0;\n      }); //console.log(filterLowItems)\n\n      return _objectSpread({}, state, {\n        items: filterRecItems\n      });\n\n    case EMPTY_CART:\n      saveState(_objectSpread({}, state, {\n        addedItems: [],\n        total: 0,\n        totalQuantity: 0\n      }));\n      return _objectSpread({}, state, {\n        addedItems: [],\n        total: 0,\n        totalQuantity: 0\n      });\n\n    default:\n      if (loadState()) {\n        return loadState();\n      } else {\n        return state;\n      }\n\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["C:/Users/Chintan/Desktop/Desktop files/JS projects/complete projects/shopping-react-redux/src/components/reducers/cartReducer.js"],"names":["Item1","Item2","Item3","Item4","Item5","Item6","ADD_TO_CART","ADD_QUANTITY","SUBTRACT_QUANTITY","REMOVE_ITEM","FILTER_LOW_TO_HIGH","FILTER_HIGH_TO_LOW","FILTER_RECOMMENDED","EMPTY_CART","loadState","saveState","initState","items","id","title","desc","price","img","addedItems","totalQuantity","total","cartReducer","state","action","type","addedItem","find","item","existed_item","initQuantity","quantity","addItem","addQuantity","subItem","subQuantity","selectedItem","newItems","filter","removeQuantity","filterLowItems","sort","a","b","filterHighItems","filterRecItems"],"mappings":"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","sourcesContent":["import Item1 from \"../../img/item1.jpg\";\r\nimport Item2 from \"../../img/item2.jpg\";\r\nimport Item3 from \"../../img/item3.jpg\";\r\nimport Item4 from \"../../img/item4.jpg\";\r\nimport Item5 from \"../../img/item5.jpg\";\r\nimport Item6 from \"../../img/item6.jpg\";\r\nimport {\r\n  ADD_TO_CART,\r\n  ADD_QUANTITY,\r\n  SUBTRACT_QUANTITY,\r\n  REMOVE_ITEM,\r\n  FILTER_LOW_TO_HIGH,\r\n  FILTER_HIGH_TO_LOW,\r\n  FILTER_RECOMMENDED,\r\n  EMPTY_CART\r\n} from \"../actions/action-types/cart-actions\";\r\nimport { loadState, saveState } from '../localStorage'\r\n\r\nconst initState = {\r\n  items: [\r\n    {\r\n      id: 1,\r\n      title: \"Yeezy 700 Wave\",\r\n      desc:\r\n        \"Developed by Kanye West, the Adidas Yeezy Boost 700 is a running sneaker-inspired model with a chunky sole. They also sport a combination of the upper, Boost cushioning, and a rubber outsole.\",\r\n      price: 350,\r\n      img: Item1\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"Nike Element 87\",\r\n      desc:\r\n        \"Adding vintage elements to a new silhouette, the Nike React Element 87 borrows design lines from heritage runners like the Nike Internationalist. It's all meant to add '90s graphics in bold colors.\",\r\n      price: 135,\r\n      img: Item6\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"Nike Airmax 270\",\r\n      desc:\r\n        \"The bold silhouette of Nike Air lifts the Nike Air Max 270 React to new heights, while the Nike React foam midsole delivers exceptional cushioning. Imagine all-day comfort with unstoppable style.\",\r\n      price: 165,\r\n      img: Item2\r\n    },\r\n    {\r\n      id: 4,\r\n      title: \"Puma RS x TOYS\",\r\n      desc:\r\n        \"X marks extreme. Exaggerated. The new RS-X tells stories of reinvention to the extreme. Design inspired by collectible vinyl toys, it celebrates the reinvention of toys in and beyond sneaker culture.\",\r\n      price: 120,\r\n      img: Item3\r\n    },\r\n    {\r\n      id: 5,\r\n      title: \"Adidas NMD CS2\",\r\n      desc:\r\n        \"Step into the NMD CS2 Primeknit from adidas Originals for the retro style. The sleek slip-on design and embroidered details ensure youâ€™ll stand out, and the sock-like upper gives you a snug, secure fit.\",\r\n      price: 95,\r\n      img: Item4\r\n    },\r\n    {\r\n      id: 6,\r\n      title: \"Air Jordan 1\",\r\n      desc:\r\n        \"Continuing the legacy that goes back to 1985, the Men's Air Jordan 1 Mid Retro Basketball Shoes offers a look that ballers and sneakerheads everywhere just can't get enough of style and comfort wear.\",\r\n      price: 160,\r\n      img: Item5\r\n    },\r\n  ],\r\n  addedItems: [],\r\n  totalQuantity: 0,\r\n  total: 0\r\n};\r\n\r\nconst cartReducer = (state = initState, action) => {\r\n\r\n  switch (action.type) {\r\n    case ADD_TO_CART:\r\n      let addedItem = state.items.find(item => item.id === action.id);\r\n     \r\n      //console.log(addedItem);\r\n      let existed_item = state.addedItems.find(item => action.id === item.id);\r\n      let initQuantity = state.totalQuantity;\r\n\r\n      //console.log(existed_item);\r\n      if (existed_item) {\r\n        addedItem.quantity += 1;\r\n        initQuantity += 1;\r\n        saveState({\r\n          ...state,\r\n          total: state.total + addedItem.price,\r\n          totalQuantity: initQuantity\r\n        })\r\n        return {\r\n          ...state,\r\n          total: state.total + addedItem.price,\r\n          totalQuantity: initQuantity\r\n        };\r\n      } else {\r\n        addedItem.quantity = 1;\r\n        initQuantity += 1;\r\n        saveState({\r\n          ...state,\r\n          addedItems: [...state.addedItems, addedItem],\r\n          total: state.total + addedItem.price,\r\n          totalQuantity: initQuantity\r\n        })\r\n        return {\r\n          ...state,\r\n          addedItems: [...state.addedItems, addedItem],\r\n          total: state.total + addedItem.price,\r\n          totalQuantity: initQuantity\r\n        };\r\n      }\r\n\r\n    case ADD_QUANTITY:\r\n      let addItem = state.items.find(item => item.id === action.id);\r\n      let addQuantity = state.totalQuantity\r\n      addItem.quantity += 1\r\n      addQuantity += 1\r\n      saveState({\r\n        ...state,\r\n        total: state.total + addItem.price,\r\n        totalQuantity: addQuantity\r\n      })\r\n\r\n      return{\r\n        ...state,\r\n        total: state.total + addItem.price,\r\n        totalQuantity: addQuantity\r\n      }\r\n\r\n    case SUBTRACT_QUANTITY:\r\n      let subItem = state.items.find(item => item.id === action.id);\r\n      let subQuantity = state.totalQuantity\r\n      subItem.quantity -= 1\r\n      subQuantity -= 1\r\n      if(subItem.quantity<=0){\r\n        let selectedItem = state.items.find(item => item.id === action.id);\r\n        let newItems  = state.addedItems.filter( item => !(item.id === action.id))\r\n  \r\n        saveState({\r\n          ...state,\r\n          addedItems: newItems,\r\n          total: state.total - selectedItem.price,\r\n          totalQuantity: subQuantity\r\n        })\r\n        \r\n        return{\r\n          ...state,\r\n          addedItems: newItems,\r\n          total: state.total - selectedItem.price,\r\n          totalQuantity: subQuantity\r\n        }\r\n  \r\n      } else{\r\n\r\n        saveState({\r\n          ...state,\r\n          total: state.total - subItem.price,\r\n          totalQuantity: subQuantity\r\n        })\r\n        return{\r\n          ...state,\r\n          total: state.total - subItem.price,\r\n          totalQuantity: subQuantity\r\n        }  \r\n      }\r\n\r\n    case REMOVE_ITEM:\r\n\r\n      let selectedItem = state.items.find(item => item.id === action.id);\r\n      let newItems  = state.addedItems.filter( item => !(item.id === action.id))\r\n      let removeQuantity = state.totalQuantity\r\n      \r\n      removeQuantity -= selectedItem.quantity\r\n\r\n      saveState({\r\n        ...state,\r\n        addedItems: newItems,\r\n        total: state.total - (selectedItem.price*selectedItem.quantity),\r\n        totalQuantity: removeQuantity\r\n      })\r\n\r\n      return{\r\n        ...state,\r\n        addedItems: newItems,\r\n        total: state.total - (selectedItem.price*selectedItem.quantity),\r\n        totalQuantity: removeQuantity\r\n      }\r\n\r\n\r\n    case FILTER_LOW_TO_HIGH:\r\n      let filterLowItems = state.items.sort((a,b) => {\r\n        if(a.price<b.price){\r\n          return -1\r\n        }\r\n        if(a.price>b.price){\r\n          return 1\r\n        }\r\n        return 0\r\n      })\r\n      //console.log(filterLowItems)\r\n\r\n      return{\r\n        ...state,\r\n        items: filterLowItems\r\n      }\r\n\r\n      case FILTER_HIGH_TO_LOW:\r\n        let filterHighItems = state.items.sort((a,b) => {\r\n          if(a.price>b.price){\r\n            return -1\r\n          }\r\n          if(a.price<b.price){\r\n            return 1\r\n          }\r\n          return 0\r\n        })\r\n        //console.log(filterLowItems)\r\n  \r\n        return{\r\n          ...state,\r\n          items: filterHighItems\r\n        }\r\n\r\n        \r\n        case FILTER_RECOMMENDED:\r\n          let filterRecItems = state.items.sort((a,b) => {\r\n            if(a.id<b.id){\r\n              return -1\r\n            }\r\n            if(a.id>b.id){\r\n              return 1\r\n            }\r\n            return 0\r\n          })\r\n          //console.log(filterLowItems)\r\n    \r\n          return{\r\n            ...state,\r\n            items: filterRecItems\r\n          }\r\n    \r\n\r\n    case EMPTY_CART:\r\n\r\n      saveState({\r\n        ...state,\r\n        addedItems: [],\r\n        total: 0,\r\n        totalQuantity: 0\r\n      })\r\n      return {\r\n        ...state,\r\n        addedItems: [],\r\n        total: 0,\r\n        totalQuantity: 0\r\n      };\r\n\r\n\r\n    \r\n\r\n    default:\r\n      if(loadState()){\r\n        return loadState();\r\n      } else{\r\n        return state\r\n      }\r\n      \r\n      \r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n"]},"metadata":{},"sourceType":"module"}